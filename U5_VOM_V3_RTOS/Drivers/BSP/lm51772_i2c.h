/*
 * lm51772_i2c.h
 *
 *  Created on: Nov 1, 2024
 *      Author: Admin
 */

#ifndef INC_LM51772_I2C_H_
#define INC_LM51772_I2C_H_

#include "stdint.h"

#define LM51722_VOUT_STEP_SIZE 20 						//mV
#define LM51772_I2C_ADDR 					(0x6A << 1) //0xD4

#define LM51772_CLEAR_FAULTS 			0x03
#define LM51772_ILIM_THRESHOLD 		0x0A
#define LM51772_VOUT_TARGET1_LSB 	0x0C
#define LM51772_VOUT_TARGET1_MSB 	0x0D
#define LM51772_USB_PD_STATUS_0 	0x21
#define LM51772_STATUS_BYTE 			0x78
#define LM51772_USB_PD_CONTROL_0 	0x81
#define LM51772_MFR_SPECIFIC_D0 	0xD0
#define LM51772_MFR_SPECIFIC_D1 	0xD1
#define LM51772_MFR_SPECIFIC_D2 	0xD2
#define LM51772_MFR_SPECIFIC_D3 	0xD3
#define LM51772_MFR_SPECIFIC_D4 	0xD4
#define LM51772_MFR_SPECIFIC_D5 	0xD5
#define LM51772_MFR_SPECIFIC_D6 	0xD6
#define LM51772_MFR_SPECIFIC_D7 	0xD7
#define LM51772_MFR_SPECIFIC_D8 	0xD8
#define LM51772_MFR_SPECIFIC_D9 	0xD9
#define LM51772_IVP_VOLTAGE 			0xDA

#define LM51722_STATUS_BYTE_BUSY 		(1<<7)
#define LM51722_STATUS_BYTE_OFF 		(1<<6)
#define LM51722_STATUS_BYTE_VOUT 		(1<<5)
#define LM51722_STATUS_BYTE_IOUT 		(1<<4)
#define LM51722_STATUS_BYTE_INPUT 	(1<<3)
#define LM51722_STATUS_BYTE_TEMP 		(1<<2)
#define LM51722_STATUS_BYTE_CML 		(1<<1)
#define LM51722_STATUS_BYTE_OTHER 	(1<<0)

void LM51772_ClearFaults();
uint8_t LM51722_Device_Ready();
uint16_t LM51722_Read_Vout_Target_mV();

#endif /* INC_LM51772_I2C_H_ */
